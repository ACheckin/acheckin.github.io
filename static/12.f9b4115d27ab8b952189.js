(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1265:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a(148);var n=a(34),r=a.n(n),s=a(7),i=a.n(s),l=a(1231),c=a(1229);function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class o extends i.a.PureComponent{render(){return i.a.createElement("div",{id:"back_button",className:"signup-header"},i.a.createElement(c.a,{onClick:this.props.onClick,to:this.props.url},i.a.createElement(l.a,{id:"generic_icons.back",defaultMessage:"Back Icon"},e=>i.a.createElement("span",{id:"back_button_icon",className:"fa fa-1x fa-angle-left",title:e.toString()})),i.a.createElement(l.a,{id:"web.header.back",defaultMessage:"Back"})))}}m(o,"propTypes",{url:r.a.string,onClick:r.a.func}),m(o,"defaultProps",{url:"/"})},1280:function(e,t,a){e.exports=a.p+"files/67504a826caf7430e472b4240bb534d7.png"},1310:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(34),r=a.n(n),s=a(7),i=a.n(s),l=a(1271),c=a(28);function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class o extends i.a.PureComponent{render(){const e="fa fa-1x fa-angle-right"+(this.props.additionalClassName?" "+this.props.additionalClassName:"");return i.a.createElement(l.a,{className:e,title:{id:Object(c.b)("generic_icons.next"),defaultMessage:"Next Icon"}})}}m(o,"propTypes",{additionalClassName:r.a.oneOfType([r.a.string,r.a.oneOf([null])])}),m(o,"defaultProps",{additionalClassName:null})},1397:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(34),r=a.n(n),s=a(7),i=a.n(s),l=a(1231);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends i.a.PureComponent{render(){const{customDescriptionText:e,siteName:t}=this.props;let a=null;return a=e||i.a.createElement(l.a,{id:"web.root.signup_info",defaultMessage:"All team communication in one place, searchable and accessible anywhere"}),i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",{id:"site_name"},t),i.a.createElement("h4",{id:"site_description",className:"color--light"},a))}}c(m,"propTypes",{customDescriptionText:r.a.string,siteName:r.a.string}),c(m,"defaultProps",{siteName:"ACheckin"})},2257:function(e,t,a){"use strict";a.r(t);var n=a(323),r=a(16),s=a(14),i=a(17),l=(a(177),a(147),a(34)),c=a.n(l),m=a(7),o=a.n(m),u=a(1230),d=a(1346),p=a(1265),h=(a(75),a(324)),E=a.n(h),f=a(1231),g=a(326),_=a(0),b=a(180),N=a(1280),M=a.n(N),T=a(1310);function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class x extends o.a.PureComponent{constructor(e){super(e),v(this,"submitNext",e=>{e.preventDefault();var t=E.a.findDOMNode(this.refs.name).value.trim();if(!t)return void this.setState({nameError:o.a.createElement(f.a,{id:"create_team.display_name.required",defaultMessage:"This field is required"})});if(t.length<_.P.MIN_TEAMNAME_LENGTH||t.length>_.P.MAX_TEAMNAME_LENGTH)return void this.setState({nameError:o.a.createElement(f.a,{id:"create_team.display_name.charLength",defaultMessage:"Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description later.",values:{min:_.P.MIN_TEAMNAME_LENGTH,max:_.P.MAX_TEAMNAME_LENGTH}})});const a=this.props.state;a.wizard="team_url",a.team.display_name=t,a.team.name=Object(b.a)(t),this.props.updateParent(a)}),v(this,"handleFocus",e=>{e.preventDefault(),e.currentTarget.select()}),this.state={}}componentDidMount(){Object(g.d)("signup","signup_team_01_name")}render(){var e=null,t="form-group";return this.state.nameError&&(e=o.a.createElement("label",{className:"control-label"},this.state.nameError),t+=" has-error"),o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("img",{alt:"signup logo",className:"signup-team-logo",src:M.a}),o.a.createElement("h2",null,o.a.createElement(f.a,{id:"create_team.display_name.teamName",defaultMessage:"Team Name"})),o.a.createElement("div",{className:t},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{id:"teamNameInput",type:"text",ref:"name",className:"form-control",placeholder:"",maxLength:"128",defaultValue:this.props.state.team.display_name,autoFocus:!0,onFocus:this.handleFocus,spellCheck:"false"}))),e),o.a.createElement("div",null,o.a.createElement(f.a,{id:"create_team.display_name.nameHelp",defaultMessage:"Name your team in any language. Your team name shows in menus and headings."})),o.a.createElement("button",{id:"teamNameNextButton",type:"submit",className:"btn btn-primary margin--extra",onClick:this.submitNext},o.a.createElement(f.a,{id:"create_team.display_name.next",defaultMessage:"Next"}),o.a.createElement(T.a,null))))}}v(x,"propTypes",{state:c.a.object,updateParent:c.a.func});var y=a(1397),P=a(8),w=a(179),A=(a(63),a(1590)),C=a(1355),O=a(1239),k=a(1243);function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class j extends o.a.PureComponent{constructor(e){super(e),L(this,"submitBack",e=>{e.preventDefault();const t=this.props.state;t.wizard="display_name",this.props.updateParent(t)}),L(this,"submitNext",async e=>{e.preventDefault();const t=E.a.findDOMNode(this.refs.name).value.trim(),a=b.a(t),{actions:{checkIfTeamExists:n,createTeam:r}}=this.props;if(!t)return void this.setState({nameError:o.a.createElement(f.a,{id:"create_team.team_url.required",defaultMessage:"This field is required"})});if(a.length<_.P.MIN_TEAMNAME_LENGTH||a.length>_.P.MAX_TEAMNAME_LENGTH)return void this.setState({nameError:o.a.createElement(f.a,{id:"create_team.team_url.charLength",defaultMessage:"Name must be {min} or more characters up to a maximum of {max}",values:{min:_.P.MIN_TEAMNAME_LENGTH,max:_.P.MAX_TEAMNAME_LENGTH}})});if(a!==t||!/^[a-z]+([a-z\-0-9]+|(__)?)[a-z0-9]+$/g.test(t))return void this.setState({nameError:o.a.createElement(f.a,{id:"create_team.team_url.regex",defaultMessage:"Use only lower case letters, numbers and dashes. Must start with a letter and can't end in a dash."})});for(let e=0;e<_.P.RESERVED_TEAM_NAMES.length;e++)if(0===a.indexOf(_.P.RESERVED_TEAM_NAMES[e]))return void this.setState({nameError:o.a.createElement(O.b,{id:"create_team.team_url.taken",defaultMessage:"This URL [starts with a reserved word](!https://docs.mattermost.com/help/getting-started/creating-teams.html#team-url) or is unavailable. Please try another."})});this.setState({isLoading:!0});var s=JSON.parse(JSON.stringify(this.props.state));s.team.type="O",s.team.name=t;const{exists:i}=await n(t);if(i)return this.setState({nameError:o.a.createElement(f.a,{id:"create_team.team_url.unavailable",defaultMessage:"This URL is taken or unavailable. Please try another."})}),void this.setState({isLoading:!1});const{data:l,error:c}=await r(s.team);l?(this.props.history.push("/"+l.name+"/channels/"+_.P.DEFAULT_CHANNEL),Object(g.d)("signup","signup_team_03_complete")):c&&(this.setState({nameError:c.message}),this.setState({isLoading:!1}))}),L(this,"handleFocus",e=>{e.preventDefault(),e.currentTarget.select()}),this.state={nameError:"",isLoading:!1}}componentDidMount(){Object(g.d)("signup","signup_team_02_url")}render(){let e=null,t="form-group";this.state.nameError&&(e=o.a.createElement("label",{className:"control-label"},this.state.nameError),t+=" has-error");const a="".concat(b.e(),"/"),n=o.a.createElement(A.a,{id:"urlTooltip"},a);let r=o.a.createElement(f.a,{id:"create_team.team_url.finish",defaultMessage:"Finish"});return this.state.isLoading&&(r=o.a.createElement(f.a,{id:"create_team.team_url.creatingTeam",defaultMessage:"Creating team..."})),o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("img",{alt:"signup team logo",className:"signup-team-logo",src:M.a}),o.a.createElement("h2",null,o.a.createElement(f.a,{id:"create_team.team_url.teamUrl",defaultMessage:"Team URL"})),o.a.createElement("div",{className:t},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-11"},o.a.createElement("div",{className:"input-group input-group--limit"},o.a.createElement(k.a,{delayShow:_.P.OVERLAY_TIME_DELAY,placement:"top",overlay:n},o.a.createElement("span",{className:"input-group-addon"},a)),o.a.createElement("input",{id:"teamURLInput",type:"text",ref:"name",className:"form-control",placeholder:"",maxLength:"128",defaultValue:this.props.state.team.name,autoFocus:!0,onFocus:this.handleFocus,spellCheck:"false"})))),e),o.a.createElement("p",null,o.a.createElement(f.a,{id:"create_team.team_url.webAddress",defaultMessage:"Choose the web address of your new team:"})),o.a.createElement("ul",{className:"color--light"},o.a.createElement("li",null,o.a.createElement(f.a,{id:"create_team.team_url.hint1",defaultMessage:"Short and memorable is best"})),o.a.createElement("li",null,o.a.createElement(f.a,{id:"create_team.team_url.hint2",defaultMessage:"Use lowercase letters, numbers and dashes"})),o.a.createElement("li",null,o.a.createElement(f.a,{id:"create_team.team_url.hint3",defaultMessage:"Must start with a letter and can't end in a dash"}))),o.a.createElement("div",{className:"margin--extra"},o.a.createElement(C.a,{id:"teamURLFinishButton",type:"submit",bsStyle:"primary",disabled:this.state.isLoading,onClick:this.submitNext},r)),o.a.createElement("div",{className:"margin--extra"},o.a.createElement("a",{href:"#",onClick:this.submitBack},o.a.createElement(f.a,{id:"create_team.team_url.back",defaultMessage:"Back to previous step"})))))}}L(j,"propTypes",{state:c.a.object,updateParent:c.a.func,actions:c.a.shape({checkIfTeamExists:c.a.func.isRequired,createTeam:c.a.func.isRequired}).isRequired});var S=Object(n.connect)(null,(function(e){return{actions:Object(P.bindActionCreators)({checkIfTeamExists:w.checkIfTeamExists,createTeam:w.createTeam},e)}}))(j);function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class R extends o.a.PureComponent{constructor(e){super(e),D(this,"updateParent",e=>{this.setState(e),this.props.history.push("/create_team/"+e.wizard)});const t={team:{},wizard:"display_name"};this.state=t}render(){const{currentChannel:e,currentTeam:t,customDescriptionText:a,match:n,siteName:r}=this.props;let s="/select_team";return t&&(s="/".concat(t.name),e&&(s+="/channels/".concat(e.name))),o.a.createElement("div",null,o.a.createElement(d.a,null),o.a.createElement(p.a,{url:s}),o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("div",{className:"signup-team__container"},o.a.createElement(y.a,{customDescriptionText:a,siteName:r}),o.a.createElement("div",{className:"signup__content"},o.a.createElement(u.d,null,o.a.createElement(u.b,{path:"".concat(this.props.match.url,"/display_name"),render:e=>o.a.createElement(x,Object.assign({state:this.state,updateParent:this.updateParent},e))}),o.a.createElement(u.b,{path:"".concat(this.props.match.url,"/team_url"),render:e=>o.a.createElement(S,Object.assign({state:this.state,updateParent:this.updateParent},e))}),o.a.createElement(u.a,{to:"".concat(n.url,"/display_name")}))))))}}D(R,"propTypes",{currentTeam:c.a.object,currentChannel:c.a.object,customDescriptionText:c.a.string,siteName:c.a.string,match:c.a.shape({url:c.a.string.isRequired}).isRequired});t.default=Object(n.connect)((function(e){const t=Object(r.getConfig)(e);return{currentChannel:Object(s.getCurrentChannel)(e),currentTeam:Object(i.getCurrentTeam)(e),customDescriptionText:t.CustomDescriptionText,siteName:t.SiteName}}))(R)}}]);
//# sourceMappingURL=12.f9b4115d27ab8b952189.js.map